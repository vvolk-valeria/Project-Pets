"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[870],{3870:function(e,r,n){n.r(r),n.d(r,{default:function(){return E}});var t="OurFriendsPage_container__x4Ema",s="OurFriendsPage_title__EeYef",a=n(9439),c=n(2791),i=n(8593),u=n(4724),l="WorkingDaysMenu_overlay__ij2c4",o="WorkingDaysMenu_menu__P6fRn",d="WorkingDaysMenu_item__vybMs",p=n(184),h=function(e){var r=e.onClose,n=e.daysList,t=e.workdays;return(0,c.useEffect)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.code&&r()}))})),(0,p.jsxs)("div",{children:[(0,p.jsx)("figure",{className:l,onClick:function(e){r()},children:" "}),(0,p.jsx)("ul",{className:o,children:n.map((function(e,r){return(0,p.jsx)("li",{className:d,children:t[r].isOpen?"".concat(e," ").concat(t[r].from,"-").concat(t[r].to):"".concat(e," is closed")},r)}))})]})},f="OurFriendsItem_item__g1xKl",m="OurFriendsItem_container__k7jX-",_="OurFriendsItem_textContainer__uyVlu",x="OurFriendsItem_text__3y2Eb",v="OurFriendsItem_adressLink__TDmct",j="OurFriendsItem_title__BrbUk",g="OurFriendsItem_titleLink__SfajN",k="OurFriendsItem_imageContainer__Q3lZ7",w="OurFriendsItem_image__Hi6dq",N="OurFriendsItem_empty__-QOO8",O="OurFriendsItem_isOpen__piJMx",y="OurFriendsItem_link__H0pdL",F="OurFriendsItem_statusOpened__15PPH",Z="OurFriendsItem_statusClosed__daLBM",b="OurFriendsItem_textTimeActive__w7LOE",I="OurFriendsItem_textTime__SSFzY",S=function(e){var r=e.id,n=e.title,t=e.adressUrl,s=e.adress,i=e.email,u=e.phone,l=e.image,o=e.workdays,d=void 0===o?[]:o,S=e.url,L=(0,c.useState)(!1),C=(0,a.Z)(L,2),E=C[0],A=C[1],D=function(e){A(!E)},P=new Date,U="";U=0===P.getDay()?6:P.getDay()-1;var M=P.getHours();return(0,p.jsxs)("li",{className:f,children:[(0,p.jsx)("h4",{className:j,children:(0,p.jsx)("a",{href:S,rel:"noreferrer",target:"_blank",className:g,children:n})}),(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("div",{className:k,children:(0,p.jsx)("img",{src:l,alt:l,className:w})}),(0,p.jsxs)("div",{className:_,children:[(0,p.jsxs)("h4",{className:E?b:I,children:[" ",d&&void 0!==d[U]&&d[U].isOpen?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("p",{className:E?b:O,onClick:D,children:[(0,p.jsx)("span",{children:"Time: "}),"".concat(d[U].from," : ").concat(d[U].to)]}),M>=d[U].from.split(":")[0]&&M<d[U].to.split(":")[0]?(0,p.jsx)("span",{className:F,children:"is Opened now"}):(0,p.jsx)("p",{children:(0,p.jsx)("span",{className:Z,children:"is Closed now"})})]}):(0,p.jsxs)("p",{className:N,children:[(0,p.jsx)("span",{children:"Time: "})," ----------------------------------"]}),E&&(0,p.jsx)(h,{onClose:D,daysList:["MN","TU","WE","TH","FR","SA","SU"],workdays:d})]}),s?(0,p.jsxs)("p",{className:x,children:[(0,p.jsx)("span",{children:"Adress:"}),(0,p.jsx)("a",{href:t,rel:"noreferrer",target:"_blank",className:v,children:s})]}):(0,p.jsxs)("p",{className:N,children:["Adress: ",(0,p.jsx)("span",{children:"----------------------------------"})]}),i?(0,p.jsxs)("p",{className:x,children:[(0,p.jsx)("span",{children:" Email:"}),(0,p.jsx)("a",{href:"mailto:".concat(i),className:y,children:i})]}):(0,p.jsxs)("p",{className:N,children:["Email: ",(0,p.jsx)("span",{children:"----------------------------------"})]}),u?(0,p.jsxs)("p",{className:x,children:[(0,p.jsx)("span",{children:" Phone:"}),(0,p.jsx)("a",{href:"tel:".concat(u),className:y,children:u})]}):(0,p.jsxs)("p",{className:N,children:["Phone: ",(0,p.jsx)("span",{children:"----------------------------------"})]})]})]})]},r)},L="OurFriendsList_list__HhRfY",C=function(){var e=(0,c.useState)(!1),r=(0,a.Z)(e,2),n=r[0],t=r[1],s=(0,c.useState)([]),l=(0,a.Z)(s,2),o=l[0],d=l[1],h=(0,c.useState)(""),f=(0,a.Z)(h,2),m=f[0],_=f[1];return(0,c.useEffect)((function(){t(!0),(0,u.Bn)().then(d).catch((function(e){return _(e.message)})).finally((function(){return t(!1)}))}),[]),(0,p.jsxs)(p.Fragment,{children:[n&&(0,p.jsx)(i.fe,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"}),m&&(0,p.jsx)("h1",{children:m}),(0,p.jsx)("ul",{className:L,children:o.length>0&&o.map((function(e,r){var n=e.title,t=e.addressUrl,s=e.address,a=e.email,c=e.phone,i=e.url,u=e.workDays,l=e.imageUrl;return(0,p.jsx)(S,{id:r,adress:s,adressUrl:t,title:n,email:a,phone:c,image:l,workdays:u,url:i},r)}))})]})},E=function(){return(0,p.jsxs)("div",{className:t,children:[(0,p.jsx)("h3",{className:s,children:"Our friends"}),(0,p.jsx)(C,{})]})}},4724:function(e,r,n){n.d(r,{Bn:function(){return i},J$:function(){return l},WW:function(){return o},aL:function(){return u},f7:function(){return p},jQ:function(){return f},ok:function(){return d},up:function(){return h}});var t=n(5861),s=n(4687),a=n.n(s),c=n(1243);c.Z.defaults.baseURL="https://backend.petly.club";var i=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/servicesSidebar").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/news").then((function(e){return e.data})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/userAndPets",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.status);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/uploadAvatar",r);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=localStorage.getItem("persist:users");if(null!==e){var r=JSON.parse(e).token;!function(e){c.Z.defaults.headers.common.Authorization="Bearer ".concat(e)}(r.slice(1,r.length-1))}else c.Z.defaults.headers.common.Authorization=""},p=function(){var e=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.patch("/users/edit",r);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/notices/".concat(r));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=localStorage.getItem("persist:users");if("null"!==e){var r=JSON.parse(e).id;if("null"===r)return;return r.slice(1,r.length-1)}}}}]);
//# sourceMappingURL=870.3ea1998b.chunk.js.map